import{i as q,g as F,a as P,d as E,o as W,c as Y,s as z,b as H,r as h,e as j,f as S,h as d,j as u,k as e,n as v,w as _,u as c,t as p,l as y,m as V,p as f,q as C,v as L,x as b,F as D,y as G,z as X,A as J,B as Q,C as Z,D as x,E as ee,G as te,H as se,I as oe,J as N,K as k,L as U,M as ne,N as ae,O as le,P as ie,Q as re,R as ce,S as de,T as ue,U as he,V as pe,W as _e,X as me}from"./vendor.9d11cfd6.js";const ve=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function t(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerpolicy&&(l.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?l.credentials="include":n.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(n){if(n.ep)return;n.ep=!0;const l=t(n);fetch(n.href,l)}};ve();const fe={apiKey:"AIzaSyAratVSSTqOUOp5KKIgn4eK1W2abM17Fq0",authDomain:"noteballs-996a7.firebaseapp.com",projectId:"noteballs-996a7",storageBucket:"noteballs-996a7.appspot.com",messagingSenderId:"320251490867",appId:"1:320251490867:web:3daab6282d194e4ad32946",measurementId:"G-YXV68W5YVT"},I=q(fe),$=F(I),g=P(I),R=E("storeAuth",{state:()=>({user:{}}),actions:{init(){W(g,s=>{s?(this.user.id=s.uid,this.user.email=s.email,this.router.push("/")):(this.user={},this.router.replace("/auth"))})},registerUser({email:s,password:o}){Y(g,s,o).then(t=>{t.user}).catch(t=>{console.error(t)})},logInUser({email:s,password:o}){z(g,s,o).then(t=>{t.user}).catch(t=>{console.error(t)})},logOutUser(){H(g).then(()=>{}).catch(s=>{})}}});const be={"aria-label":"main navigation",class:"navbar is-success",role:"navigation"},ge={class:"container is-max-desktop px-2"},ye=e("div",{class:"navbar-item is-size-4 is-family-monospace"}," Noteballs ",-1),$e=e("span",{"aria-hidden":"true"},null,-1),Ne=e("span",{"aria-hidden":"true"},null,-1),ke=e("span",{"aria-hidden":"true"},null,-1),Ce=[$e,Ne,ke],we=["onClick"],xe={class:"navbar-end"},Ve=C(" Notes "),Se=C(" Stats "),Re={setup(s){const o=R(),t=h(!1),a=h(null),n=h(null);j(a,i=>t.value=!1,{ignore:[n]});const l=()=>{t.value=!1,o.logOutUser()};return(i,r)=>{const m=S("RouterLink");return d(),u("nav",be,[e("div",ge,[e("div",{ref_key:"navTitleRef",ref:n,class:"navbar-brand"},[ye,e("a",{class:v([{"is-active":t.value},"navbar-burger"]),"aria-expanded":"false","aria-label":"menu","data-target":"navbarBasicExample",role:"button",onClick:r[0]||(r[0]=_(A=>t.value=!t.value,["prevent"]))},Ce,2),c(o).user.id?(d(),u("button",{key:0,class:"button is-primary",onClick:_(l,["prevent"])},"Log out "+p(c(o).user.email),9,we)):y("",!0)],512),e("div",{id:"navbarBasicExample",ref_key:"navbarRef",ref:a,class:v([{"is-active":t.value},"navbar-menu"])},[e("div",xe,[c(o).user.id?(d(),V(m,{key:0,"active-class":"is-active",class:"navbar-item",to:"/",onClick:r[1]||(r[1]=A=>t.value=!1)},{default:f(()=>[Ve]),_:1})):y("",!0),c(o).user.id?(d(),V(m,{key:1,"active-class":"is-active",class:"navbar-item",to:"/stats",onClick:r[2]||(r[2]=A=>t.value=!1)},{default:f(()=>[Se]),_:1})):y("",!0)])],2)])])}}};const Ae={class:"container is-max-desktop px-2 py-4"},Ee={setup(s){const o=R();return L(()=>{o.init()}),(t,a)=>{const n=S("RouterView");return d(),u(D,null,[b(Re),e("div",Ae,[b(n)])],64)}}},Le=G(J($,"notes"),X("id","desc")),w=E("storeNotes",{state:()=>({notes:[]}),actions:{async getNotes(){try{Q(Le,s=>{this.notes=[],s.forEach(o=>{this.notes.push({id:o.id,content:o.data().content})})})}catch(s){console.error("Error fetching notes: ",s)}},async addNote(s){let o=new Date().getTime(),t=o.toString();await Z(x($,"notes",t),{id:t,content:s})},async deleteNote(s){await ee(x($,"notes",s))},async updateNote(s,o){let t=this.notes.findIndex(n=>n.id===s);this.notes[t].content=o;const a=x($,"notes",s);await te(a,{content:o})}},getters:{getNoteContent:s=>o=>s.notes.filter(t=>t.id===o)[0].content,totalNotesCount:s=>s.notes.length,totalCharactersCount:s=>{let o=0;return s.notes.forEach(t=>{o+=t.content.length}),o}}}),De={class:"card mb-4"},Ue={class:"card-content"},Ie={class:"content"},Oe={class:"has-text-left has-text-grey-light mt-2"},Be={class:"has-text-right has-text-grey-light mt-2"},Me={class:"card-footer"},Ke=C(" Edit "),Te={props:{note:{type:Object,required:!0}},setup(s){const o=s,t=w(),a=se(()=>{let l=o.note.content.length,i=l>1?"characters":"character";return`${l} ${i}`}),n=l=>oe(new Date(+l),"DD.MM.YYYY HH:mm:ss").value;return(l,i)=>{const r=S("RouterLink");return d(),u("div",De,[e("div",Ue,[e("div",Ie,[C(p(s.note.content)+" ",1),e("div",Oe,[e("small",null,p(n(s.note.id)),1)]),e("div",Be,[e("small",null,p(c(a)),1)])])]),e("footer",Me,[b(r,{to:`/editNote/${s.note.id}`,class:"card-footer-item",href:"#"},{default:f(()=>[Ke]),_:1},8,["to"]),e("a",{class:"card-footer-item",href:"#",onClick:i[0]||(i[0]=_(m=>c(t).deleteNote(s.note.id),["prevent"]))}," Delete ")])])}}},O={mounted:s=>{s.focus()}},qe={key:0,class:"label has-text-white"},Fe={class:"field"},Pe={class:"control"},We=["placeholder"],Ye={class:"field is-grouped is-grouped-right"},ze={class:"control"},B={props:{modelValue:{type:String,required:!0},bgColor:{type:String,default:"success"},placeholder:{type:String,default:"Type something..."},label:{type:String}},emits:["update:modelValue"],setup(s,{emit:o}){return(t,a)=>(d(),u("div",{class:v([`has-background-${s.bgColor}-dark`,"card p-4 mb-5"])},[s.label?(d(),u("label",qe,p(s.label),1)):y("",!0),e("div",Fe,[e("div",Pe,[N(e("textarea",{"onUpdate:modelValue":a[0]||(a[0]=n=>U(modelValue)?modelValue.value=n:null),placeholder:s.placeholder,class:"textarea",onInput:a[1]||(a[1]=n=>t.$emit("update:modelValue",s.modelValue))},null,40,We),[[k,s.modelValue],[c(O)]])])]),e("div",Ye,[e("div",ze,[ne(t.$slots,"buttons")])])],2))}};function M(s,o){ae(s,t=>{t.length>o&&alert(`Max only ${o} length note!!!`)},{immediate:!0})}const He={class:"notes"},je=["disabled"],Ge={setup(s){const o=w();L(async()=>{await o.getNotes()});const t=h(""),a=h(null),n=()=>{t.value!==""&&t.value!=null&&(o.addNote(t.value),t.value="")};return M(t,30),(l,i)=>(d(),u("div",He,[b(B,{ref_key:"addEditNoteRef",ref:a,modelValue:t.value,"onUpdate:modelValue":i[0]||(i[0]=r=>t.value=r),placeholder:"Add a new note",onKeydown:le(_(n,["exact","prevent"]),["enter"])},{buttons:f(()=>[e("button",{disabled:!t.value,class:"button is-link has-background-success",onClick:n}," Add New Note ",8,je)]),_:1},8,["modelValue","onKeydown"]),(d(!0),u(D,null,ie(c(o).notes,r=>(d(),V(Te,{key:r.id,note:r},null,8,["note"]))),128))]))}},Xe={class:"edit-note"},Je=["disabled"],Qe={setup(s){const o=re(),t=ce(),a=w(),n=h("");n.value=a.getNoteContent(o.params.id);const l=()=>{a.updateNote(o.params.id,n.value),t.push("/vue-course")};return(i,r)=>(d(),u("div",Xe,[b(B,{ref:"addEditNoteRef",modelValue:n.value,"onUpdate:modelValue":r[1]||(r[1]=m=>n.value=m),bgColor:"link",label:"Edit Note",placeholder:"Edit note"},{buttons:f(()=>[e("button",{class:"button is-link is-light mr-2",onClick:r[0]||(r[0]=m=>i.$router.back())}," Cancel "),e("button",{disabled:!n.value,class:"button is-link has-background-link",onClick:l}," Save Note ",8,Je)]),_:1},8,["modelValue"])]))}},Ze={class:"stats"},et={class:"table is-fullwidth"},tt=e("thead",null,[e("tr",null,[e("th",null,"Stat"),e("th",null,"Value")])],-1),st=e("td",null,"Number of Notes",-1),ot=e("td",null,"Number of Characters (of all notes)",-1),nt={setup(s){const o=w();let t=h("");return M(t,20),(a,n)=>(d(),u("div",Ze,[e("table",et,[tt,e("tbody",null,[e("tr",null,[st,e("td",null,p(c(o).totalNotesCount),1)]),e("tr",null,[ot,e("td",null,p(c(o).totalCharactersCount),1)])])]),N(e("input",{"onUpdate:modelValue":n[0]||(n[0]=l=>U(t)?t.value=l:t=l),class:"input",placeholder:"Insert value",type:"text"},null,512),[[k,c(t)],[c(O)]])]))}},at={class:"auth"},lt={class:"tabs is-centered"},it=e("a",null,"Login",-1),rt=[it],ct=e("a",null,"Register",-1),dt=[ct],ut={class:"card"},ht={class:"card-content"},pt={class:"content"},_t=["onSubmit"],mt={class:"field"},vt=e("label",{class:"label"},"Email",-1),ft={class:"control"},bt={class:"field"},gt=e("label",{class:"label"},"Password",-1),yt={class:"control"},$t=e("button",{class:"button is-primary"},"Submit",-1),Nt={setup(s){const o=h(!0),t=R(),a=de({email:"",password:""}),n=()=>{!a.password||!a.email?alert("Fill the field!s"):o.value?t.logInUser(a):t.registerUser(a)};return(l,i)=>(d(),u("div",at,[e("div",lt,[e("ul",null,[e("li",{class:v({"is-active":o.value}),onClick:i[0]||(i[0]=_(r=>o.value=!0,["prevent"]))},rt,2),e("li",{class:v({"is-active":!o.value}),onClick:i[1]||(i[1]=_(r=>o.value=!1,["prevent"]))},dt,2)])]),e("div",ut,[e("div",ht,[e("div",pt,[e("h2",null,p(o.value?"Login":"Register"),1),e("form",{onSubmit:_(n,["prevent"])},[e("div",mt,[vt,e("div",ft,[N(e("input",{"onUpdate:modelValue":i[2]||(i[2]=r=>c(a).email=r),class:"input",placeholder:"e.g. alexsmith@gmail.com",type:"email"},null,512),[[k,c(a).email]])])]),e("div",bt,[gt,e("div",yt,[N(e("input",{"onUpdate:modelValue":i[3]||(i[3]=r=>c(a).password=r),class:"input",placeholder:"...",type:"password"},null,512),[[k,c(a).password]])])]),$t],40,_t)])])])]))}},kt=[{path:"/",name:"notes",component:Ge},{path:"/editNote/:id",name:"edit-note",component:Qe},{path:"/stats",name:"stats",component:nt},{path:"/auth",name:"auth",component:Nt}],K=ue({history:he(),routes:kt}),T=pe();T.use(({store:s})=>{s.router=_e(K)});me(Ee).use(T).use(K).mount("#app");
